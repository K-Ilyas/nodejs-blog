<%- include("../partials/nav_auth") %>

    <div class="row  justify-content-center">

        <div class="col-lg-8 col-md-10">
            <h2 class="">New Blog</h2>

            <form class="mt-3" action="/blogs" enctype="multipart/form-data" method="post">
                <div class="mb-3">
                    <label for="formFile" class="form-label">Blog back-image</label>
                    <input class="form-control" type="file" id="formFile" name="image" accept="image/*" required>
                    <div id="formFile" class="form-text">Blog image is a required field.</div>

                </div>

                <div class="mb-3">
                    <label for="title" class="form-label">Blog title</label>
                    <input type="text" class="form-control" name="title" id="title" aria-describedby="titleHelp" required>
                    <div id="titleHelp" class="form-text">Blog title is a required field.</div>
                </div>

                <div class="mb-3">
                    <label for="body" class="form-label">Blog body</label>
                    <textarea class="form-control" id="editor" id="editor" rows="3" aria-describedby="bodyHelp" name="body" required></textarea>
                    <div id="bodyHelp" class="form-text">Blog body is a required field.</div>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
        <%- include("../partials/footer") %>

    </div>

    </div>
    <script src="https://cdn.ckeditor.com/4.21.0/full-all/ckeditor.js"></script>
    <script>
        const editor = CKEDITOR.replace('editor', {
            extraPlugins: ['embed', 'autoembed', 'language'],
            embed_provider: ` //iframe.ly/api/oembed?url={url}&callback={callback}&api_key=${'<%= key%>'}`,
            outerHeight: "1000px",
            toolbarCanCollapse: 'true'
        });

        editor.on('someEvent', function(event) {
            console.log(event.data)
        });
        editor.fire('someEvent', "mydata"); // Both listeners are called.
    </script>